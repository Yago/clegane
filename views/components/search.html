<form ng-controller="searchCtrl as search" action="[[search.formAction(search.keywords)]]" method="post">
  <div class="form-group">
    <div class="input-group input-group-lg">

      <input
        type="text"
        ng-model="search.keywords"
        placeholder="Search a Movie, a TV Show or a Person"
        typeahead="data as data.original_title for data in search.getResults($viewValue)"
        typeahead-loading="loadingLocations"
        typeahead-no-results="noResults"
        typeahead-template-url="result-template.html"
        typeahead-on-select="search.onSelect($item, $model, $label)"
        typeahead-wait-ms="500"
        class="form-control"
        >

      <span class="input-group-btn">
        <input type="submit" value="Search" class="btn btn-lg btn-primary"/>
      </span>
    </div>

    <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
    <div ng-show="noResults">
      <i class="glyphicon glyphicon-remove"></i> No Results Found
    </div>
  </div>
</form>

<script type="text/ng-template" id="result-template.html">
  <a href="/[[match.model.media_type]]/[[match.model.id]]">
    <strong ng-if="match.model.title">
      [[match.model.title]]
    </strong>
    <strong ng-if="match.model.name">
      [[match.model.name]]
    </strong>
    <span ng-if="match.model.release_date">
      - [[match.model.release_date|year]]
    </span>
    <span ng-if="match.model.first_air_date">
      - [[match.model.first_air_date|year]]
    </span>
    <span ng-if="match.model.original_title">
      ([[match.model.original_title]])
    </span>
    <span ng-if="match.model.original_name">
      ([[match.model.original_name]])
    </span>
  </a>
</script>
