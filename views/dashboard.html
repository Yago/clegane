{% extends 'layout.html' %}

{% block content %}
<div ng-app="CleganeApp" ng-cloak>
  <h1 class="text-center">{{ user.username }}'s dashboard</h1>

  <br><br><br>

  <div class="row" ng-controller="movieCtrl as movie">
    <div class="col-sm-6 col-sm-offset-3">
      <h2>[[ movie.test ]]</h2>

      <form>
        <div class="form-group">
          <input type="text" name="keywords" class="form-control" ng-change='movie.search("search","movie",query)' ng-model="query" />
        </div>
        <div class="form-group">
          <input type="submit" value="Submit" class="btn btn-primary"/>
        </div>
      </form>

      <br><br><br>

      <ul>
        <li ng-repeat="(key, value) in movie.searchResults.data.results">
          [[ value.title ]] ([[ value.original_title ]]) - [[ value.id ]]
        </li>
      </ul>


    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
  {% parent %}
  <script src="/js/angular-vendors.min.js"></script>
  <script src="/js/angular-app.js"></script>
{% endblock %}
